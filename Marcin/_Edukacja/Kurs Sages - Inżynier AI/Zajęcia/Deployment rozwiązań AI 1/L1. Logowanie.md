# Logowanie

1. Słuchajcie, przechodzimy teraz do bardzo ważnego tematu jakim jest logowanie. Czym jest logowanie? To każdy z Was myślę, że wie, więc jednym zdaniem można to ująć jako: zapisywanie wszelkich zdarzeń zachodzących w aplikacji.
2. Moim zdaniem istnieją dwie rzeczy, bez których nawet prosty projekt, czy Proof of Concept po 3/6 miesiącach nie może wejść na produkcję:
	1. Logi - o czym teraz będziemy o tym rozmawiać
	2. Testy - o czym będziemy rozmawiać później
3. Część z Was może jeszcze pomyśleć o monitoringu, jako o trzecim elemencie niezbędnym - tutaj nie jestem przekonany czy jest to niezbędny element. To zależy też oczywiście od stadium rozwoju aplikacji - jeżeli jest to początek, to moim zdaniem może jeszcze wejść jeszcze bez monitoringu, bo często monitoring oprócz takich fundamentalnych, podstawowych metryk musi też monitorować "specyficzne" metryki dla danego API, które po pierwszych iteracjach dopiero będą znane. Później jak już aplikacja jest bardziej dojrzała to oczywiście monitoring musi być. Natomiast mówiąc o takich niezbędnych elementach - niezależnie od tego w jakim jest stadium, czy to sam początek, czy już coś bardziej rozwiniętego, to jednak logowanie i testy jest must-have. Ja osobiście nie wdrażam nic na produkcję bez tych dwóch rzeczy - nie ma opcji.
4. Dlaczego? Dlatego, że naprawa bugów i debugowanie czegoś bez tych dwóch rzeczy to ISTNY KOSZMAR, zajmujący strasznie dużo czasu. Ja wole sobie tego zaoszczędzić.
5. Teraz porozmawiamy sobie o logowaniu w API. Od razu na wstępie powiem tak: 
	1. do logowania jest sporo bibliotek, znacznie lepszych niż zbudowany w pythonie moduł `logging`, który ma swoje wady - jedną z nich jest jego troche dziwna konfiguracja, przez co nie jest łatwa. Jest to bardzo stary moduł. Tych bibliotek jest sporo, ale moim zdaniem na największą uwagę zasługuje [logguru](https://github.com/Delgan/loguru). Ja jednak na naszym zjeździe zostanę przy podstawowym pythonowym `logging`-u - nie chce Wam wprowadzać nowych bilbiotek, które są kolejną warstwą nałożoną na podstawowy `logging`. Ja osobiście sam korzystam z podstawowego `logging` na codzień - jak już się nauczy człowiek go konfigurować to jest przyjemny, łatwy i w zupełności wystarczający. Ja też osobiście nie lubie pakować sobie do środowiska zbyt dużej ilości bibliotek, chyba, że są naprawdę ku temu solidne podstawy. W przypadku logowania moim zdaniem `logging` jest w zupełności wystarczający. Ale jeżeli komuś on nie odpowiada, to polecam właśnie logguru.
	2. Druga sprawa najważniejsza moim zdaniem - o samym logowaniu można naprawdę pisać i wygłaszać elaboraty. Jak sobie sami spojrzycie np. w dyskusje na Stackoverflow oraz na Reddicie, każdy ma swoje zdanie na ten temat, są różne punkty widzenia. Ja chciałbym na tym zjeździe przekazać Wam najważniejsze punkty, wręcz ideę logowania: jak logować, co warto logować a czego nie, w jakiej strukturze logować itd. Jest to troche zebranie swojego doświadczenia z mieszanką wiedzy i doświadczeń innych developerów - to będą najważniejsze punkty. Natomiast każdy z Was w trakcie swojej pracy wyrobi swoje własne zdanie upodobania i to jest OK. Najważniejsze w logowaniu jest to, żeby Wam pomogło to w pracy - moim zdaniem jeżeli w temacie logowania postanowicie robić coś troche inaczej coś inaczej, ale Wam się to sprawdza - to to zróbcie.
	3. Trzecia sprawa - w sieci znajdziecie wiele różnych implementacji jak logować pewne zdarzenia. Bardzo często spotykanym patternem w Pythonie jest decorator i przykładów decoratorów znajdziecie wiele - np. [ten](https://ankitbko.github.io/blog/2021/04/logging-in-python/). On jest wielki i troche brzydki - na pewno można go zapisać lepiej. Nie mniej jednak one będą tak wyglądać - jeżeli będziecie chcieli zrobić decorator, który będzie służył Wam zawsze i wszędzie, aby logował Wam to co chcecie to będzie on skomplikowany. Ja Wam powiem z własnego doświadczenia, że... bawiłem się takimi decoratorami, które mogłyby logować wszystko co chce... to moim zdaniem się nie sprawdza. Do logowania prostych funkcji tak, ale ja mam z tym kiepskie doświadczenia. Zawsze powstawał mi taki kolos, który ciężko było utrzymać i rozwijać gdy pojawiały się jakieś funkcje, które wyjątkowo inaczej musiałem zlogować. Ja porzuciłem ten pomysł i robie to prosto... po prostu dodając logowanie jako kolejne linijki kodu. Jeżeli natomiast Wy macie lepsze doświadczenia z tym związane i uważacie decoratory za fajny pattern do użycia w logowaniu i Wam się sprawdza... to jak najbardziej z tego korzystajcie. Natomiast ja nie będę ich używał na naszym zjeździe - pójde w prostotę.

https://guicommits.com/how-to-log-in-python-like-a-pro/