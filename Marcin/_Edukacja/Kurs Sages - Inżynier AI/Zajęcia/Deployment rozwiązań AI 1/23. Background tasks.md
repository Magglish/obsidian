# Background tasks

1. Niestety ale z zapisywaniem danych do baz - czy to Redis czy to Postgres wiąże się pewne wyzwanie. Ale zanim do tego przejdziemy to... tak jak Wam mówiłem - podczas projektowania API powinny nam przyświecać dwa cele - prostota i szybkość. Jak widzieliście, dodanie cache zwiększyło szybkość naszego API. Ale czy na pewno?
2. Spójrzmy prosze w kod na ten endpoint i zastanówmy się, które elementy w nim przyśpieszają nasze API, a które go spowalniają. Czy ktoś z Was widzi takie elementy?
3. Podzielmy to na dwie części:
	1. Uzyskujemy odpowiedź z cachea - to co nam spowalnia działanie naszego API to zapisanie do bazy postgres `decision_postgres_client.write(request, response)`.
	2. Uzyskujemy odpowiedzi z modelu - to co nam spowalnia działanie naszego API to:
		- czytanie z bazy Redisa: `decision_redis_client.read(request)`
		- zapisanie do Redisa: `decision_redis_client.write(request, response)`
		- zapisanie do Postgresa: `decision_postgres_client.write(request, response)`
4. 